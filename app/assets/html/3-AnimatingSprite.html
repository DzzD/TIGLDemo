<!doctype html>
<html>
	<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0,initial-scale=1.0">
	<link href="fonts/fonts.css" rel="stylesheet" type="text/css"/>
	<link href="style.css" rel="stylesheet" type="text/css"/>
	<body>
		<h1>3 - Animating a sprite</h1>
		<li>You can do more than just moving a sprite, you can also animate it ! using sprite sheet.
		<br>
		<li>Sprite sheet is a process that consist of having multiple appearances of a sprite in a single image, those can be changed programatical to animate the sprite.
		<br>
		<li>Look at below image and source code to see how you can create and animate a sprite using a sprite sheet.
		
		<br>
		
		<center style="color:#888888;font-style:italic;"><img style="width:100%" src="images/spritesheet.png"><br>spritesheet.png (source: <a href="https://www.codeandweb.com/texturepacker/tutorials/how-to-create-a-sprite-sheet" target="_blank">https://www.codeandweb.com/</a>)</center>
		<br>
<div class="fileName"># myView.xml</div>
<<!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:0;padding:.0;"><table><tr><td><pre style="margin: 0; line-height: 125%">1
2
3
4
5</pre></td><td><pre style="margin: 0; line-height: 125%"><span style="color: #007700">&lt;Alloy&gt;</span>
  <span style="color: #007700">&lt;Window&gt;</span>
    <span style="color: #007700">&lt;TIGLView</span> <span style="color: #0000CC">module=</span><span style="background-color: #fff0f0">&quot;fr.dzzd.tigl&quot;</span> <span style="color: #0000CC">onInit=</span><span style="background-color: #fff0f0">&quot;init&quot;</span> <span style="color: #0000CC">onResize=</span><span style="background-color: #fff0f0">&quot;resize&quot;</span><span style="color: #007700">/&gt;</span>
  <span style="color: #007700">&lt;/Window&gt;</span>
<span style="color: #007700">&lt;/Alloy&gt;</span>
</pre></td></tr></table></div>




<br><br>
<div class="fileName"># myView.js</div>
<!-- HTML generated using hilite.me --><div style="background: #ffffff; overflow:auto;width:auto;border:0;padding:.0;"><table><tr><td><pre style="margin: 0; line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42</pre></td><td><pre style="margin: 0; line-height: 125%"><span style="color: #008800; font-weight: bold">var</span> sprite1Uid;
<span style="color: #008800; font-weight: bold">var</span> sprite2Uid;
<span style="color: #008800; font-weight: bold">var</span> sprite3Uid;
<span style="color: #008800; font-weight: bold">var</span> sprite4Uid;
<span style="color: #008800; font-weight: bold">var</span> width;
<span style="color: #008800; font-weight: bold">var</span> height;

<span style="color: #888888">/*</span>
<span style="color: #888888"> * Init must be declared as an attribute of the Alloy tag TIGLView (eg: onInit=&quot;init&quot;)</span>
<span style="color: #888888"> */</span>
<span style="color: #008800; font-weight: bold">function</span> init()
{
    <span style="color: #888888">/*</span>
<span style="color: #888888">    * For Alloy project, at runtime &quot;assets&quot; folder become &quot;Resources&quot; folder</span>
<span style="color: #888888">    */</span>
    sprite1Uid <span style="color: #333333">=</span> <span style="color: #008800; font-weight: bold">this</span>.addSprite({url<span style="color: #333333">:</span> <span style="background-color: #fff0f0">&quot;Resources/numbersBlue.png&quot;</span>, x<span style="color: #333333">:</span> <span style="color: #0000DD; font-weight: bold">0</span>, y<span style="color: #333333">:</span> <span style="color: #0000DD; font-weight: bold">0</span>, width<span style="color: #333333">:</span> <span style="color: #0000DD; font-weight: bold">46</span>, height<span style="color: #333333">:</span> <span style="color: #0000DD; font-weight: bold">46</span>});
    sprite2Uid <span style="color: #333333">=</span> <span style="color: #008800; font-weight: bold">this</span>.addSprite({url<span style="color: #333333">:</span> <span style="background-color: #fff0f0">&quot;Resources/numbersBlue.png&quot;</span>, x<span style="color: #333333">:</span> <span style="color: #0000DD; font-weight: bold">46</span>, y<span style="color: #333333">:</span> <span style="color: #0000DD; font-weight: bold">0</span>, width<span style="color: #333333">:</span> <span style="color: #0000DD; font-weight: bold">46</span>, height<span style="color: #333333">:</span> <span style="color: #0000DD; font-weight: bold">46</span>});
    sprite3Uid <span style="color: #333333">=</span> <span style="color: #008800; font-weight: bold">this</span>.addSprite({url<span style="color: #333333">:</span> <span style="background-color: #fff0f0">&quot;Resources/numbersBlue.png&quot;</span>, x<span style="color: #333333">:</span> <span style="color: #0000DD; font-weight: bold">46</span><span style="color: #333333">*</span><span style="color: #0000DD; font-weight: bold">2</span>, y<span style="color: #333333">:</span> <span style="color: #0000DD; font-weight: bold">0</span>, width<span style="color: #333333">:</span> <span style="color: #0000DD; font-weight: bold">46</span>, height<span style="color: #333333">:</span> <span style="color: #0000DD; font-weight: bold">46</span>});
    sprite4Uid <span style="color: #333333">=</span> <span style="color: #008800; font-weight: bold">this</span>.addSprite({url<span style="color: #333333">:</span> <span style="background-color: #fff0f0">&quot;Resources/spritesheet.png&quot;</span>, x<span style="color: #333333">:</span> <span style="color: #0000DD; font-weight: bold">100</span>, y<span style="color: #333333">:</span> <span style="color: #0000DD; font-weight: bold">50</span>, width<span style="color: #333333">:</span> <span style="color: #0000DD; font-weight: bold">256</span>, height<span style="color: #333333">:</span> <span style="color: #0000DD; font-weight: bold">256</span>});

    <span style="color: #888888">/*</span>
<span style="color: #888888">     * Play some animations with different parameters</span>
<span style="color: #888888">     */</span>
    <span style="color: #008800; font-weight: bold">this</span>.playEntityAnimationById(sprite1Uid, {duration<span style="color: #333333">:</span> <span style="color: #0000DD; font-weight: bold">5000</span>});
    <span style="color: #008800; font-weight: bold">this</span>.playEntityAnimationById(sprite2Uid, {duration<span style="color: #333333">:</span> <span style="color: #0000DD; font-weight: bold">5000</span>, start<span style="color: #333333">:</span> <span style="color: #0000DD; font-weight: bold">9</span>, end<span style="color: #333333">:</span> <span style="color: #0000DD; font-weight: bold">0</span>});
    <span style="color: #008800; font-weight: bold">this</span>.playEntityAnimationById(sprite3Uid, {duration<span style="color: #333333">:</span> <span style="color: #0000DD; font-weight: bold">4000</span>, pingpong<span style="color: #333333">:</span> <span style="color: #008800; font-weight: bold">true</span>, loop<span style="color: #333333">:</span> <span style="color: #0000DD; font-weight: bold">50</span>});
    <span style="color: #008800; font-weight: bold">this</span>.playEntityAnimationById(sprite4Uid, {duration<span style="color: #333333">:</span> <span style="color: #0000DD; font-weight: bold">500</span>, loop<span style="color: #333333">:</span> <span style="color: #0000DD; font-weight: bold">0</span>});
}


<span style="color: #888888">/*</span>
<span style="color: #888888"> * Resize must be declared as an attribute of the Alloy tag TIGLView (eg: onResize=&quot;resize&quot;)</span>
<span style="color: #888888"> */</span> 
<span style="color: #008800; font-weight: bold">function</span> resize(e)
{
    width <span style="color: #333333">=</span> e.width;
    height <span style="color: #333333">=</span> e.height;
    <span style="color: #888888">/*</span>
<span style="color: #888888">     * Center sprite 4</span>
<span style="color: #888888">     */</span>
    <span style="color: #008800; font-weight: bold">this</span>.setEntityPositionById(sprite4Uid, width <span style="color: #333333">*</span> <span style="color: #6600EE; font-weight: bold">0.5</span> <span style="color: #333333">-</span> <span style="color: #0000DD; font-weight: bold">128</span>, height <span style="color: #333333">*</span> <span style="color: #6600EE; font-weight: bold">0.5</span> <span style="color: #333333">-</span> <span style="color: #0000DD; font-weight: bold">160</span>);
}
</pre></td></tr></table></div>




	</body>
</html>
